# 美股智能分析选股系统 - 项目待办清单

## 核心功能迁移

### 后端API与数据层
- [x] 迁移Yahoo Finance API集成
- [x] 迁移股票数据获取逻辑（实时价格、历史K线）
- [x] 配置239只美股股票池
- [x] 创建数据库表结构（用户表、自选股表）

### 技术指标计算模块
- [x] 迁移EMA计算算法
- [x] 迁移黄蓝梯子指标（蓝梯EMA 24/23，黄梯EMA 89/90）
- [x] 迁移CD抄底指标（MACD）
- [x] 迁移买卖力道指标（含⚡和💀提醒）
- [x] 迁移NX指标

### 前端图表与UI
- [x] 迁移StockChart组件（K线图+指标叠加）
- [x] 配置红涨绿跌配色方案
- [x] 配置美股开盘时间对齐（1分钟09:31，30分钟10:00）
- [x] 迁移首页市场概览
- [x] 迁移股票搜索功能
- [x] 迁移股票详情页
- [x] 迁移自选股管理功能
- [x] 迁移条件选股页面（AND/OR逻辑）

### 测试与发布
- [x] 测试所有技术指标准确性
- [x] 测试股票搜索和详情页
- [x] 测试条件选股逻辑
- [x] 创建检查点
- [ ] 发布到manus.space永久域名

## 用户反馈修复

### 登录系统优化
- [x] 移除Manus OAuth登录依赖
- [x] 实现简易登录（用户名登录）
- [x] 简化登录对话框UI

### 涨跌百分比颜色修复
- [x] 修复首页市场概览中的涨跌百分比颜色
- [x] 修复自选股列表中的涨跌百分比颜色
- [x] 修复股票详情页中的涨跌百分比颜色
- [x] 确保全站涨跌百分比都显示红涨绿跌


## 买卖动能指标开发（基于五档盘口数据）

### 数据源集成
- [x] 配置Alpha Vantage API密钥
- [x] 配置Polygon.io API密钥
- [x] 测试两个数据源的五档盘口数据获取
- [x] 实现数据源优先级和备份机制

### 买卖动能指标实现
- [x] 开发五档盘口数据解析模块
- [x] 实现黄线（买盘挂单累计）计算
- [x] 实现绿线（卖盘挂单累计）计算
- [x] 实现委差（买盘-卖盘）计算
- [x] 实现红柱/绿柱显示（委差为正/负）

### 图表集成
- [x] 在股票详情页添加买卖动能副图（位于最下方）
- [x] 配置黄线/绿线颜色和样式
- [x] 配置红柱/绿柱颜色和样式
- [x] 支持30分钟/日线等多时间周期

### 测试与优化
- [x] 测试指标准确性和实时性
- [x] 验证与原买卖力道指标的区别
- [x] 优化图表性能
- [ ] 创建检查点
